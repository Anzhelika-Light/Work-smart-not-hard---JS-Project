{"mappings":"8pBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,uCC2BT,IAAAE,E,6EA5CA,IAAIC,EAAY,GA6BhB,SAASC,EAAWC,GAClB,OAAQ,GAAKA,GAAKC,QAAO,+DAAiE,MAAQ,G,CAcpGJ,EA1CA,SAA4BH,GAC1B,IAAIQ,EAAQJ,EAAUJ,GAOtB,OALKQ,IACHA,EAOJ,WACE,IACE,MAAM,IAAIN,K,CACV,MAAOO,GACP,IAAIC,GAAW,GAAKD,EAAIE,OAAOC,MAAK,yDAEpC,GAAIF,EAGF,OAAOL,EAAWK,EAAQ,G,CAI9B,MAAO,G,CApBGG,GACRT,EAAUJ,GAAMQ,GAGXA,C,KCZTM,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,uMCIzDH,EAAA,S,uDCJA,IAAAI,EAAAJ,EAAA,S,8BCAAK,EAAiBL,EAAA,SAAAM,aAA6C,SAAWN,EAAA,SAAAO,QAA6C,SCGtH,IAAMC,EAAW,sCAEV,SAASC,EAAoBC,GAClC,IAAQC,EACND,EADMC,YAAaC,EACnBF,EADmBE,MAAOC,EAC1BH,EAD0BG,UAAWC,EACrCJ,EADqCI,aAAcC,EACnDL,EADmDK,aAAc7B,EACjEwB,EADiExB,GAE/D8B,EAAS,GAAcC,OAAXT,GAAuBS,OAAZN,GAEvBO,EAAc,GAA4BD,OAAzBH,EAAaK,MAAM,EAAG,IAKzCH,EADEL,GAgCN,SAAmBK,GACjB,IAAII,EAAS,IAAIC,MACjBD,EAAOE,iBAAiB,QAAQ,W,OAAM,C,IACtCF,EAAOE,iBAAiB,SAAS,W,OAAM,C,IACvCF,EAAOG,IAAMP,C,CApCMQ,CAAUR,GAClB,GAAcC,OAAXT,GAAuBS,OAAZN,GAEd,GAAcM,OAAXQ,EAAApB,IAITS,IACHI,EAAe,KAGjB,IACMQ,EADsBC,OAAOZ,GACUa,QAAQ,GAgBrD,MAbe,mDAGDX,OAF+B/B,EAAG,sEAEJ+B,OAA9BD,EAAO,yBAA8EC,OAAvDL,EAAM,oDAEAK,OAFiD/B,EAAG,2GAEd+B,OAAtC/B,EAAG,sCACd+B,OADiDL,EAAM,0DACfK,OAAxCJ,EAAU,gCAA+EI,OAAjDC,EAAY,uCAAsDD,OAAjBS,EAAiB,iD,+BF7B7IG,EAAeC,SAASC,cAAc,4BACtCC,EAAaF,SAASC,cAAc,0BACpCE,EAAcH,SAASC,cAAc,e,SAI5BG,I,OAAAA,EAAfT,EAAArB,EAAA,CAAAqB,EAAAU,GAAAC,MAAA,SAAAC,I,IACMC,EACAC,EACAC,EAGIC,EAEAC,EAIAC,E,yEAXJL,EAAUM,KAAKC,KAAK,GACpBN,EAAUK,KAAKE,MAAM,KACrBN,EAAOI,KAAKE,MAAMF,KAAKG,UAAYR,EAAUD,EAAU,GAAKA,G,SAGxDG,EAAW,sCACjBR,EAAYe,UAAY,G,UACJ,EAAAC,EAAAC,SAAkBV,G,OAAhCE,EAAKS,EAAAC,KAILT,EAAS,wJAAoL1B,OAA5ByB,EAAMW,QAAQ,GAAGnE,GAAG,UAAmB+B,OAAXwB,GACjJxB,OAD4JyB,EAAMW,QAAQ,GAAG1C,YAAY,2DAE5LM,OADGyB,EAAMW,QAAQ,GAAGzC,MAAM,2DAIgBK,OAH1CyB,EAAMW,QAAQ,GAAGC,SAAS,6HAG2BrC,OAAXwB,GAAoDxB,OAAzCyB,EAAMW,QAAQ,GAAG1C,YAAY,cAC/EM,OAD2FyB,EAAMW,QAAQ,GAAGnE,GAAG,4DAElH+B,OADGyB,EAAMW,QAAQ,GAAGzC,MAAM,2DAIgBK,OAH1CyB,EAAMW,QAAQ,GAAGC,SAAS,6HAG2BrC,OAAXwB,GAAoDxB,OAAzCyB,EAAMW,QAAQ,GAAG1C,YAAY,cAC/EM,OAD2FyB,EAAMW,QAAQ,GAAGnE,GAAG,4DAElH+B,OADGyB,EAAMW,QAAQ,GAAGzC,MAAM,2DACAK,OAA1ByB,EAAMW,QAAQ,GAAGC,SAAS,0BAIzErB,EAAYe,UAAYL,E,kDAExBY,QAAQC,IAAGL,EAAAM,I,2DA9BcC,MAAAC,KAAAC,U,CAsCtB,SAASC,KACd,EAAAC,EAAAC,gBAEA,IAAMC,EAAeC,EAAY,gBAEjC,GADAV,QAAQC,IAAIQ,QACSE,IAAjBF,EAKF,OAJA/B,EAAYe,UACV,mGACCmB,WAAQL,EAAAM,YAAa,KAI1B,GAA4B,IAAxBJ,EAAa/E,OAKf,OAJAgD,EAAYe,UACV,mGACCmB,WAAQL,EAAAM,YAAa,KAK1B,IAAMC,EAAcL,EACjBM,KAAI,SAAA5D,GACH,OAAOD,EAAoBC,E,IAE5B6D,KAAK,IACRtC,EAAYe,UAAYqB,EACxBF,WAAWL,EAAAM,YAAa,I,CAGnB,SAASI,KACd,EAAAV,EAAAC,gBAEA,IAAMU,EAAaR,EAAY,cAE/B,QAAmBC,IAAfO,EAKF,OAJAxC,EAAYe,UACV,yGACAmB,WAASL,EAAAM,YAAa,KAI1B,GAA0B,IAAtBK,EAAWxF,OAKb,OAJAgD,EAAYe,UACV,yGACFmB,WAAWL,EAAAM,YAAa,KAK1B,IAAMC,EAAcI,EACjBH,KAAI,SAAA5D,GACH,OAAOD,EAAoBC,E,IAE5B6D,KAAK,IACRtC,EAAYe,UAAYqB,EAExBF,WAAWL,EAAAM,YAAa,I,CAO1B,SAASH,EAAYS,GACnB,IACE,IAAMC,EAAkBC,aAAaC,QAAQH,GAE7C,GADAnB,QAAQC,IAAImB,GACY,OAApBA,EAA0B,OAC9B,OAAOzE,KAAKC,MAAMwE,E,CAElB,MAAOG,GACPvB,QAAQC,IAAI,0CAA2CsB,EAAMC,Q,cA7GlD7C,EAAcwB,MAAAC,KAAAC,U,CAkC7BoB,GA+DAnD,EAAaP,iBAAiB,QAASuC,GACvC7B,EAAWV,iBAAiB,QAASkD,G,8CG7GrCpE,EAAAJ,EAAA,S,aAAA,I,0EAkBIiF,EAAAC,KAPFC,gBADF,IAEEC,EAMEH,EAAAC,KANFG,MACAC,EAKEL,EAAAC,KALFK,SACAC,EAIEP,EAAAC,KAJFO,SACAC,EAGET,EAAAC,KAHFS,WACAC,EAEEX,EAAAC,KAFFW,KACAC,EACEb,EAAAC,KADFa,eAGEC,EAAQ9F,KAAKC,MAAMyE,aAAaC,QAAQ,gBAAkB,GAC1DoB,EAAU/F,KAAKC,MAAMyE,aAAaC,QAAQ,kBAAoB,GAIlE,SAASqB,IACP,IAAMC,EAA2BvB,aAAaC,QAAQ,mBAEtD,OADsB3E,KAAKC,MAAMgG,E,UAGbC,EAAUC,G,OAAVC,EAAS5C,MAAAC,KAAAC,U,UAAT0C,I,OAAAA,EAAf7E,EAAArB,EAAA,CAAAqB,EAAAU,GAAAC,MAAA,SAAAC,EAAyBgE,G,IAatBnH,EAKAqH,EAIAC,EACAC,EACAC,E,qEAvBkB,QAAtBL,EAAEM,OAAOC,UAA4C,SAAtBP,EAAEM,OAAOC,SAAmB,C,uBAC7DxB,EAAMyB,UAAUC,OAAO,sBACvBxB,EAASuB,UAAUC,OAAO,sBAC1BxB,EAASuB,UAAUE,IAAI,mBAGvBjB,EAAekB,oBAAoB,QAASZ,GAE5CtE,SAASR,iBAAiB,UAAW2F,GACrCzB,EAASlE,iBAAiB,QAAS4F,GACnC5B,EAAShE,iBAAiB,QAAS6F,GAE7BjI,EACkB,QAAtBmH,EAAEM,OAAOC,SACLP,EAAEM,OAAOS,QAAQlI,GACjBmH,EAAEM,OAAOU,QAAQ,MAAMD,QAAQlI,G,UAC/BoI,EAAYpI,G,QACZqH,EAAMgB,OAAOC,QACnB5B,EAAK6B,MAAMC,SAAW,QACtB9B,EAAK6B,MAAMlB,IAAM,IAAQtF,OAAJsF,EAAI,MAEnBC,EAAa1E,SAASC,cAAc,uBACpC0E,EAAW3E,SAASC,cAAc,qBAClC2E,EAAkB5E,SAASC,cAC/B,mCAEFyE,EAAWlF,iBAAiB,QAASqG,GACrClB,EAASnF,iBAAiB,QAASsG,GACnClB,EAAgBpF,iBAAiB,QAASuG,EAAAC,mB,6CA7BfpE,MAAAC,KAAAC,U,CAgC/B,SAASuD,EAAmBd,GACtBA,EAAE0B,gBAAkB1B,EAAEM,QAAQO,G,CAEpC,SAASD,EAAgBZ,GACR,WAAXA,EAAE2B,MAAmBd,G,CAE3B,SAASA,IACP9B,EAAMyB,UAAUE,IAAI,sBACpBzB,EAASuB,UAAUE,IAAI,sBACvBzB,EAASuB,UAAUC,OAAO,mBAG1BhB,EAAexE,iBAAiB,QAAS8E,GAEzCtE,SAASkF,oBAAoB,UAAWE,GACxC1B,EAASwB,oBAAoB,QAASE,GACtC5B,EAAS0B,oBAAoB,QAASG,GACtC,IAAMZ,EAAMX,EAAK6B,MAAMlB,IACvBX,EAAK6B,MAAMC,SAAW,GACtB9B,EAAK6B,MAAMlB,IAAM,GACjBgB,OAAOU,SAAS,GAA0B,EAAvBC,SAAS3B,GAAO,K,UAGtBe,EAAYpI,G,OAAZiJ,EAAWzE,MAAAC,KAAAC,U,UAAXuE,I,OAAAA,EAAf1G,EAAArB,EAAA,CAAAqB,EAAAU,GAAAC,MAAA,SAAAC,EAA2BnD,G,IACnBkJ,EACAC,E,yEADAD,EAAclC,I,UACG,EAAAoC,EAAAC,aAAYH,EAAalJ,EAAI+G,EAASD,G,OAAvDqC,EAAQlF,EAAAC,KAEdsC,EAAW1C,UAAYqF,E,4CAJC3E,MAAAC,KAAAC,U,UAOX+D,EAActB,G,OAAdmC,EAAa9E,MAAAC,KAAAC,U,UAAb4E,I,OAAAA,EAAf/G,EAAArB,EAAA,CAAAqB,EAAAU,GAAAC,MAAA,SAAAC,EAA6BgE,G,IACrBoC,EAEA/H,EASAgI,EAUIC,E,kEArBJF,EAAU3G,SAASC,cAAc,sBACvCwB,QAAQC,IAAI,UAAWiF,EAAQrB,SACzB1G,EAAQ,CACZC,YAAa8H,EAAQrB,QAAQpG,OAC7BJ,MAAO6H,EAAQrB,QAAQxG,MACvBC,UAAW4H,EAAQrB,QAAQwB,OAC3B9H,aAAc2H,EAAQrB,QAAQyB,KAC9B9H,aAAc0H,EAAQrB,QAAQ0B,MAC9B5J,GAAIuJ,EAAQrB,QAAQlI,IAEtBqE,QAAQC,IAAI,QAAS9C,GACfgI,EAAczC,EAAQ8C,MAAK,SAAAC,G,OAAQA,EAAK9J,KAAOwB,EAAMxB,E,IAC3DqE,QAAQC,IAAI,cAAekF,GAC3BnF,QAAQ0F,IAAI5C,EAAEM,QACa,mBAAvBN,EAAEM,OAAOuC,UACNR,IACHzC,EAAQkD,KAAKzI,GACbkE,aAAawE,QAAQ,eAAgBlJ,KAAKmJ,UAAUpD,IACpDI,EAAEM,OAAOuC,UAAY,sBACrB3F,QAAQC,IAAI,QAAS9C,GACrB6C,QAAQC,IAAI,UAAWyC,GACjB0C,EAAQzI,KAAKC,MAAMyE,aAAaC,QAAQ,iBAC9CtB,QAAQC,IAAI,QAASmF,GAGrBlH,EAAA6H,GAASC,OAAOC,QAAQ,sBAEM,wBAAvBnD,EAAEM,OAAOuC,YAClBjD,EAAUA,EAAQwD,QAAO,SAAAT,G,OAAQA,EAAK9J,KAAOwB,EAAMxB,E,IACnD0F,aAAawE,QAAQ,eAAgBlJ,KAAKmJ,UAAUpD,IACpDI,EAAEM,OAAOuC,UAAY,iBACrBrF,IAIApC,EAAA6H,GAASC,OAAOC,QAAQ,0B,4CApCA9F,MAAAC,KAAAC,U,UAuCbgE,EAAavB,G,OAAbqD,EAAYhG,MAAAC,KAAAC,U,UAAZ8F,I,OAAAA,EAAfjI,EAAArB,EAAA,CAAAqB,EAAAU,GAAAC,MAAA,SAAAC,EAA4BgE,G,IACpBoC,EAEA/H,EASAiJ,E,kEAXAlB,EAAU3G,SAASC,cAAc,sBACvCwB,QAAQC,IAAI,UAAWiF,EAAQrB,SACzB1G,EAAQ,CACZC,YAAa8H,EAAQrB,QAAQpG,OAC7BJ,MAAO6H,EAAQrB,QAAQxG,MACvBC,UAAW4H,EAAQrB,QAAQwB,OAC3B9H,aAAc2H,EAAQrB,QAAQyB,KAC9B9H,aAAc0H,EAAQrB,QAAQ0B,MAC9B5J,GAAIuJ,EAAQrB,QAAQlI,IAEtBqE,QAAQC,IAAI,QAAS9C,GACfiJ,EAAa3D,EAAM+C,MAAK,SAAAC,G,OAAQA,EAAK9J,KAAOwB,EAAMxB,E,IACxDqE,QAAQC,IAAImG,GACZpG,QAAQ0F,IAAI5C,EAAEM,QACa,iBAAvBN,EAAEM,OAAOuC,UACNS,IACH3D,EAAMmD,KAAKzI,GACXkE,aAAawE,QAAQ,aAAclJ,KAAKmJ,UAAUrD,IAClDK,EAAEM,OAAOuC,UAAY,oBAGrBzH,EAAA6H,GAASC,OAAOC,QAAQ,oBAEM,sBAAvBnD,EAAEM,OAAOuC,YAClBlD,EAAQA,EAAMyD,QAAO,SAAAT,G,OAAQA,EAAK9J,KAAOwB,EAAMxB,E,IAC/C0F,aAAawE,QAAQ,aAAclJ,KAAKmJ,UAAUrD,IAClDK,EAAEM,OAAOuC,UAAY,eACrB1E,IAGA/C,EAAA6H,GAASC,OAAOC,QAAQ,wB,4CA/BD9F,MAAAC,KAAAC,U,CA5G3BkC,EAAexE,iBAAiB,QAAS8E,G,YClBzC,EAAAtC,EAAAC,gBACAI,WAAWL,EAAAM,YAAa,I","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-f3133048e87791f6.js","src/js/authFireBaseLibrary.js","src/js/my-library-watched-queue/my-library-watched-queue.js","node_modules/@parcel/runtime-js/lib/runtime-3ada4a0cffc9d9e2.js","src/js/my-library-watched-queue/renderMoviesLibrary.js","src/js/movie_modal-library.js","src/library.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp|(chrome|moz)-extension):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"2Y0K8\\\":\\\"library.67f8b047.js\\\",\\\"g5Rti\\\":\\\"empty-poster.88e9f0bc.jpg\\\",\\\"5UbS1\\\":\\\"index.14d51e98.css\\\",\\\"7nwxg\\\":\\\"library.bf6cc52f.js\\\"}\"));","\n\n\n//////////////////////////////////\nimport { initializeApp } from \"firebase/app\"\nimport {\n    getAuth, signInWithEmailAndPassword,\n    createUserWithEmailAndPassword, AuthErrorCodes, onAuthStateChanged, signOut\n} from 'firebase/auth'\nimport 'notiflix/dist/notiflix-3.2.6.min.css';\nimport Notiflix from 'notiflix';\n\nimport { getDatabase, ref, set, child, get, push, update } from \"firebase/database\"\n\nlet currentUID = \"\";\nimport { auth } from \"./authFireBase.js\"\n//btn header switch\n\n\n\n\n\n","import Notiflix from 'notiflix';\nimport { renderMoviesLibrary } from './renderMoviesLibrary';\nimport { userDataQueue, userDataWatched } from './data-template-local-storage';\nimport { spinnerStart, spinnerStop } from '../loader';\nimport fetchPopularFilms from '../trending-search-main/fetch-movies';\n\nconst watchedBtnEl = document.querySelector('.js-library-btn--watched');\nconst queueBtnEl = document.querySelector('.js-library-btn--queue');\nconst movieListEl = document.querySelector('.movie-list');\n\n// --дефолт інфа в бібліотеці\n\nasync function defaultLibrary() {\n  let minPage = Math.ceil(1);\n  let maxPage = Math.floor(100);\n  let page = Math.floor(Math.random() * (maxPage - minPage + 1) + minPage);\n\n  try {\n    const IMG_PATH = 'https://image.tmdb.org/t/p/original';\n    movieListEl.innerHTML = '';\n    const films = await fetchPopularFilms(page);\n\n    // console.log(films.results);\n\n    const markup = `<h3 class='library-gallery-recomend'>RECOMMENDATIONS</h3><div class='library-gallery__default'><img class='library-gallery__default-poster' data-id='${films.results[1].id}' src=${IMG_PATH}${films.results[1].poster_path}>\n    <div><p class='library-gallery__default__title'>${films.results[1].title}</p>\n    <p class='library-gallery__default-overview'>${films.results[1].overview}</p></div>\n    </div>\n    \n    <div class='library-gallery__default'><img class='library-gallery__default-poster' src=${IMG_PATH}${films.results[2].poster_path} data-id='${films.results[2].id}'>\n    <div><p class='library-gallery__default__title'>${films.results[2].title}</p>\n    <p class='library-gallery__default-overview'>${films.results[2].overview}</p></div>\n    </div>\n    \n    <div class='library-gallery__default'><img class='library-gallery__default-poster' src=${IMG_PATH}${films.results[3].poster_path} data-id='${films.results[3].id}'>\n    <div><p class='library-gallery__default__title'>${films.results[3].title}</p>\n    <p class='library-gallery__default-overview'>${films.results[3].overview}</p></div>\n    </div>`;\n    // console.log(markup);\n\n    movieListEl.innerHTML = markup;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\ndefaultLibrary();\n// --/дефолт інфа в бібліотеці\n\n// при натисканні на Watched\nexport function onWatchedBtnClick() {\n  spinnerStart();\n\n  const movieWatched = gettingItem('movieWatched');\n  console.log(movieWatched);\n  if (movieWatched === undefined) {\n    movieListEl.innerHTML =\n      \"<p class='no-movies'>It seems you haven't watched any movie. You should try, it's fun🎭</p>\";\n    setTimeout(spinnerStop, 500);\n\n    return;\n  }\n  if (movieWatched.length === 0) {\n    movieListEl.innerHTML =\n      \"<p class='no-movies'>It seems you haven't watched any movie. You should try, it's fun🎭</p>\";\n    setTimeout(spinnerStop, 500);\n\n    return;\n  }\n\n  const moviesCards = movieWatched\n    .map(movie => {\n      return renderMoviesLibrary(movie);\n    })\n    .join('');\n  movieListEl.innerHTML = moviesCards;\n  setTimeout(spinnerStop, 500);\n}\n\nexport function onQueueBtnClick() {\n  spinnerStart();\n\n  const movieQueue = gettingItem('movieQueue');\n\n  if (movieQueue === undefined) {\n    movieListEl.innerHTML =\n      \"<p class='no-movies'>The queue is empty. Add all Harry Potter movies - you won't regret this✨</p>\";\n    setTimeout(spinnerStop, 500);\n\n    return;\n  }\n  if (movieQueue.length === 0) {\n    movieListEl.innerHTML =\n      \"<p class='no-movies'>The queue is empty. Add all Harry Potter movies - you won't regret this✨</p>\";\n    setTimeout(spinnerStop, 500);\n\n    return;\n  }\n\n  const moviesCards = movieQueue\n    .map(movie => {\n      return renderMoviesLibrary(movie);\n    })\n    .join('');\n  movieListEl.innerHTML = moviesCards;\n\n  setTimeout(spinnerStop, 500);\n}\n\nwatchedBtnEl.addEventListener('click', onWatchedBtnClick);\nqueueBtnEl.addEventListener('click', onQueueBtnClick);\n\n// localStorage functions\nfunction gettingItem(key) {\n  try {\n    const serializedState = localStorage.getItem(key);\n    console.log(serializedState);\n    if (serializedState === null) return undefined;\n    return JSON.parse(serializedState);\n    // return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.log('Everyone makes mistakes, this is yours:', error.message);\n  }\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('2Y0K8') + require('./helpers/bundle-manifest').resolve(\"g5Rti\");","import emptyphoto from '../../images/empty-photo/empty-poster.jpg';\n// import TmdbAPI from '../TMDB_API';\n\nconst IMG_PATH = 'https://image.tmdb.org/t/p/original';\n\nexport function renderMoviesLibrary(movie) {\n  const { poster_path, title, genre_ids, release_date, vote_average, id } =\n    movie;\n  let poster = `${IMG_PATH}${poster_path}`;\n\n  let releaseDate = `${release_date.slice(0, 4)}`;\n\n  // якщо немає постера\n\n  if (poster_path || testImage(poster)) {\n    poster = `${IMG_PATH}${poster_path}`;\n  } else {\n    poster = `${emptyphoto}`;\n  }\n\n  // якщо немає дати випуску\n  if (!release_date) {\n    releaseDate = `-`;\n  }\n\n  const voteAverageToNumber = Number(vote_average);\n  const voteAverageFixed = voteAverageToNumber.toFixed(1);\n  // const genres = genre_ids.map(el => el.id);\n\n  const markUp = `\n\t<li class='trending-gallery__item' data-id='${id}'>\n  <a href=\"#\" class=\"trending-gallery__link\">\n    <img src=\"${poster}\" alt=\"The poster of ${title} film\" class=\"library-gallery__image\" data-id='${id}'/>\n    <div class=\"trending-gallery__wrapper\">\n    \t<h3 class='trending-gallery__title' data-id='${id}'><span class=\"title-modal-open\">${title}</span></h3>\n    \t<p class='trending-gallery__info'>${genre_ids} | <span class='movie-year'>${releaseDate}</span> <span class='movie-rating'>${voteAverageFixed}</span></p>\n    </div>\n    <a/>\n  </li>\n\t`;\n\n  // console.log(markUp);\n  return markUp;\n}\n\n// -----------test\nfunction testImage(poster) {\n  let tester = new Image();\n  tester.addEventListener('load', () => true);\n  tester.addEventListener('error', () => false);\n  tester.src = poster;\n}\n// -----------test\n","// import { watchTrailer } from '../trailer';\nimport { refs } from './refs';\nimport Notiflix from 'notiflix';\nimport { renderModal } from './render_modal';\nimport { onTrailerBtnClick } from './trailer';\nimport { all, AxiosHeaders } from 'axios';\nimport { fetchMovie } from './fetch_movie_details';\nimport TmdbAPI from './TMDB_API';\nimport { onWatchedBtnClick } from './my-library-watched-queue/my-library-watched-queue';\nimport { onQueueBtnClick } from './my-library-watched-queue/my-library-watched-queue';\n\nconst {\n  allCardsSection,\n  modal,\n  overflow,\n  closeBtn,\n  innerModal,\n  body,\n  sectionLibrary,\n} = refs;\n// Наступні два рядки - додавання даних в об'єкти з local storage для коректного відображення кнопок і роботи\nlet queue = JSON.parse(localStorage.getItem('movieQueue')) || [];\nlet watched = JSON.parse(localStorage.getItem('movieWatched')) || [];\n// allCardsSection.addEventListener('click', showModal);\nsectionLibrary.addEventListener('click', showModal);\n\nfunction updateMoviesList() {\n  const allMoviesListFromStorage = localStorage.getItem('currentFilmList');\n  const allMoviesList = JSON.parse(allMoviesListFromStorage);\n  return allMoviesList;\n}\nexport async function showModal(e) {\n  if (e.target.nodeName === 'IMG' || e.target.nodeName === 'SPAN') {\n    modal.classList.remove('hidden-movie-modal');\n    overflow.classList.remove('hidden-movie-modal');\n    overflow.classList.add('overflow-height');\n\n    // allCardsSection.removeEventListener('click', showModal);\n    sectionLibrary.removeEventListener('click', showModal);\n\n    document.addEventListener('keydown', closeModalOnEsc);\n    closeBtn.addEventListener('click', closeModal);\n    overflow.addEventListener('click', closeModalOverflow);\n\n    const id =\n      e.target.nodeName === 'IMG'\n        ? e.target.dataset.id\n        : e.target.closest('li').dataset.id;\n    await createModal(id);\n    const top = window.scrollY;\n    body.style.position = 'fixed';\n    body.style.top = `-${top}px`;\n    // Далі в цій функціїї навісила обробників подій.\n    const watchedBtn = document.querySelector('.modal__btn-watched');\n    const queueBtn = document.querySelector('.modal__btn-queue');\n    const watchTrailerBtn = document.querySelector(\n      '.movie-modal__btn-watch-trailer'\n    );\n    watchedBtn.addEventListener('click', handleWatched);\n    queueBtn.addEventListener('click', handleQueued);\n    watchTrailerBtn.addEventListener('click', onTrailerBtnClick);\n  }\n}\nfunction closeModalOverflow(e) {\n  if (e.currentTarget === e.target) closeModal();\n}\nfunction closeModalOnEsc(e) {\n  if (e.code === 'Escape') closeModal();\n}\nfunction closeModal() {\n  modal.classList.add('hidden-movie-modal');\n  overflow.classList.add('hidden-movie-modal');\n  overflow.classList.remove('overflow-height');\n\n  // allCardsSection.addEventListener('click', showModal);\n  sectionLibrary.addEventListener('click', showModal);\n\n  document.removeEventListener('keydown', closeModal);\n  closeBtn.removeEventListener('click', closeModal);\n  overflow.removeEventListener('click', closeModalOverflow);\n  const top = body.style.top;\n  body.style.position = '';\n  body.style.top = '';\n  window.scrollTo(0, parseInt(top || '0') * -1);\n}\n\nasync function createModal(id) {\n  const currentList = updateMoviesList();\n  const rendered = await renderModal(currentList, id, watched, queue);\n  // console.log('rendered info', rendered);\n  innerModal.innerHTML = rendered;\n}\n// Далі і до кінця йдуть два обробники: watched i queue, які самі вирішують, додавати чи видаляти в результаті перевірки\nasync function handleWatched(e) {\n  const modalEl = document.querySelector('.movie-modal__main');\n  console.log('modalEl', modalEl.dataset);\n  const movie = {\n    poster_path: modalEl.dataset.poster,\n    title: modalEl.dataset.title,\n    genre_ids: modalEl.dataset.genres,\n    release_date: modalEl.dataset.date,\n    vote_average: modalEl.dataset.votes,\n    id: modalEl.dataset.id,\n  };\n  console.log('movie', movie);\n  const isInWatched = watched.some(film => film.id === movie.id);\n  console.log('inInWatched', isInWatched);\n  console.dir(e.target);\n  if (e.target.innerText === 'ADD TO WATCHED') {\n    if (!isInWatched) {\n      watched.push(movie);\n      localStorage.setItem('movieWatched', JSON.stringify(watched));\n      e.target.innerText = 'Remove from watched';\n      console.log('movie', movie);\n      console.log('watched', watched);\n      const saved = JSON.parse(localStorage.getItem('movieWatched'));\n      console.log('saved', saved);\n      // e.target.addEventListener('click', removeFromWatched);\n      // e.target.removeEventListener('click', addToWatched);\n      Notiflix.Notify.success('Added to watched!');\n    }\n  } else if (e.target.innerText === 'REMOVE FROM WATCHED') {\n    watched = watched.filter(film => film.id !== movie.id);\n    localStorage.setItem('movieWatched', JSON.stringify(watched));\n    e.target.innerText = 'Add to watched';\n    onWatchedBtnClick();\n\n    // e.target.removeEventListener('click', removeFromWatched);\n    // e.target.addEventListener('click', addToWatched);\n    Notiflix.Notify.success('Removed from watched!');\n  }\n}\nasync function handleQueued(e) {\n  const modalEl = document.querySelector('.movie-modal__main');\n  console.log('modalEl', modalEl.dataset);\n  const movie = {\n    poster_path: modalEl.dataset.poster,\n    title: modalEl.dataset.title,\n    genre_ids: modalEl.dataset.genres,\n    release_date: modalEl.dataset.date,\n    vote_average: modalEl.dataset.votes,\n    id: modalEl.dataset.id,\n  };\n  console.log('movie', movie);\n  const isInQueued = queue.some(film => film.id === movie.id);\n  console.log(isInQueued);\n  console.dir(e.target);\n  if (e.target.innerText === 'ADD TO QUEUE') {\n    if (!isInQueued) {\n      queue.push(movie);\n      localStorage.setItem('movieQueue', JSON.stringify(queue));\n      e.target.innerText = 'Remove from queue';\n      // e.target.addEventListener('click', removeFromWatched);\n      // e.target.removeEventListener('click', addToWatched);\n      Notiflix.Notify.success('Added to queue!');\n    }\n  } else if (e.target.innerText === 'REMOVE FROM QUEUE') {\n    queue = queue.filter(film => film.id !== movie.id);\n    localStorage.setItem('movieQueue', JSON.stringify(queue));\n    e.target.innerText = 'Add to queue';\n    onQueueBtnClick();\n    // e.target.removeEventListener('click', removeFromWatched);\n    // e.target.addEventListener('click', addToWatched);\n    Notiflix.Notify.success('Removed from queue!');\n  }\n}\n","import './js/authFireBaseLibrary.js';\nimport './js/openModalWindow.js';\nimport './js/my-library-watched-queue/my-library-watched-queue';\nimport './js/dark-mode';\nimport './js/footer-modal';\nimport { spinnerStart, spinnerStop } from './js/loader';\nspinnerStart();\nsetTimeout(spinnerStop, 1000);\nimport './js/scroll_to_top';\nimport './js/movie_modal-library.js';\nimport './js/openModalWindow.js';\n"],"names":["$0380ce8f1f064ccc$export$6503ec6e8aabbaf","$0380ce8f1f064ccc$export$f7ad0328861e2f03","$0380ce8f1f064ccc$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$7dd1ddf6834435ca$export$bdfd709ae4826697","$7dd1ddf6834435ca$var$bundleURL","$7dd1ddf6834435ca$var$getBaseURL","url","replace","value","err","matches","stack","match","$7dd1ddf6834435ca$var$getBundleURL","parcelRequire","register","JSON","parse","$bpxeT","$773962c7ed1ecf44$exports","getBundleURL","resolve","$765ad05bf0786b75$var$IMG_PATH","$765ad05bf0786b75$export$5de0cb244a858947","movie","poster_path","title","genre_ids","release_date","vote_average","poster","concat","releaseDate","slice","tester","Image","addEventListener","src","$765ad05bf0786b75$var$testImage","$parcel$interopDefault","voteAverageFixed","Number","toFixed","$769382ea8cae2491$var$watchedBtnEl","document","querySelector","$769382ea8cae2491$var$queueBtnEl","$769382ea8cae2491$var$movieListEl","$769382ea8cae2491$var$_defaultLibrary","$2TvXO","mark","_callee","minPage","maxPage","page","IMG_PATH","films","markup","Math","ceil","floor","random","innerHTML","$asGRZ","default","_ctx","sent","results","overview","console","log","t0","apply","this","arguments","$769382ea8cae2491$export$852eb21c65e590aa","$kvC6y","spinnerStart","movieWatched","$769382ea8cae2491$var$gettingItem","undefined","setTimeout","spinnerStop","moviesCards","map","join","$769382ea8cae2491$export$47c64e1cb6fdbeb7","movieQueue","key","serializedState","localStorage","getItem","error","message","$769382ea8cae2491$var$defaultLibrary","$4Nugj","refs","allCardsSection","$8190bc97d9d4f811$var$modal","modal","$8190bc97d9d4f811$var$overflow","overflow","$8190bc97d9d4f811$var$closeBtn","closeBtn","$8190bc97d9d4f811$var$innerModal","innerModal","$8190bc97d9d4f811$var$body","body","$8190bc97d9d4f811$var$sectionLibrary","sectionLibrary","$8190bc97d9d4f811$var$queue","$8190bc97d9d4f811$var$watched","$8190bc97d9d4f811$var$updateMoviesList","allMoviesListFromStorage","$8190bc97d9d4f811$export$d7e8d4d4450c819c","e","$8190bc97d9d4f811$var$_showModal","top","watchedBtn","queueBtn","watchTrailerBtn","target","nodeName","classList","remove","add","removeEventListener","$8190bc97d9d4f811$var$closeModalOnEsc","$8190bc97d9d4f811$var$closeModal","$8190bc97d9d4f811$var$closeModalOverflow","dataset","closest","$8190bc97d9d4f811$var$createModal","window","scrollY","style","position","$8190bc97d9d4f811$var$handleWatched","$8190bc97d9d4f811$var$handleQueued","$cDXQO","onTrailerBtnClick","currentTarget","code","scrollTo","parseInt","$8190bc97d9d4f811$var$_createModal","currentList","rendered","$h9dm7","renderModal","$8190bc97d9d4f811$var$_handleWatched","modalEl","isInWatched","saved","genres","date","votes","some","film","dir","innerText","push","setItem","stringify","$6JpON","Notify","success","filter","$8190bc97d9d4f811$var$_handleQueued","isInQueued"],"version":3,"file":"library.67f8b047.js.map"}