function e(e,t,r,i){Object.defineProperty(e,t,{get:r,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},a=r.parcelRequired7c6;null==a&&((a=function(e){if(e in i)return i[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return i[e]=r,t.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},r.parcelRequired7c6=a),a.register("kyEFX",(function(t,r){var i,n;e(t.exports,"register",(function(){return i}),(function(e){return i=e})),e(t.exports,"resolve",(function(){return n}),(function(e){return n=e}));var a={};i=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)a[t[r]]=e[t[r]]},n=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a("kyEFX").register(JSON.parse('{"1zJhX":"library.62d45b26.js","ej0t2":"empty-poster.88e9f0bc.jpg","5UbS1":"index.807329ef.css","eM9ss":"library.34e51187.js"}')),a("gKkQl"),a("eyjy7"),a("7Y9D8"),a("jAzyG"),a("5rZAK");a("9kkEh"),a("7Y9D8");var s;s=new URL(a("kyEFX").resolve("ej0t2"),import.meta.url).toString();function o(e){const{poster_path:r,title:i,genre_ids:n,release_date:a,vote_average:o,id:l}=e;let d=`https://image.tmdb.org/t/p/original${r}`,c=`${a.slice(0,4)}`;d=r||function(e){let t=new Image;t.addEventListener("load",(()=>!0)),t.addEventListener("error",(()=>!1)),t.src=e}(d)?`https://image.tmdb.org/t/p/original${r}`:`${t(s)}`,a||(c="-");const u=n.split(",");let p=[];u.length>2?(p.push(u[0]),p.push(u[1]),p.push("Other")):2===u.length?(p.push(u[0]),p.push(u[1])):1===u.length&&p.push(u[0]);const m=Number(o).toFixed(1);return`\n\t<li class='trending-gallery__item' data-id='${l}'>\n  \n    <img src="${d}" alt="The poster of ${i} film" class="library-gallery__image" data-id='${l}'/>\n    <div class="trending-gallery__wrapper">\n    \t<h3 class='trending-gallery__title' data-id='${l}'><span class="title-modal-open">${i}</span></h3>\n    \t<p class='trending-gallery__info'>${p.join(", ")} | <span class='movie-year'>${c}</span> <span class='movie-rating'>${m}</span></p>\n    </div>\n    \n  </li>\n\t`}var l=a("gjiCh"),d=a("2Opyx");const c=document.querySelector(".js-library-btn--watched"),u=document.querySelector(".js-library-btn--queue"),p=document.querySelector(".movie-list");function m(){(0,l.spinnerStart)();const e=g("movieWatched");if(void 0===e)return p.innerHTML="<p class='no-movies'>It seems you haven't watched any movie. You should try, it's funðŸŽ­</p>",void setTimeout(l.spinnerStop,500);if(0===e.length)return p.innerHTML="<p class='no-movies'>It seems you haven't watched any movie. You should try, it's funðŸŽ­</p>",void setTimeout(l.spinnerStop,500);const t=e.map((e=>o(e))).join("");p.innerHTML=t,setTimeout(l.spinnerStop,500)}function v(){(0,l.spinnerStart)();const e=g("movieQueue");if(void 0===e)return p.innerHTML="<p class='no-movies'>The queue is empty. Add all Harry Potter movies - you won't regret thisâœ¨</p>",void setTimeout(l.spinnerStop,500);if(0===e.length)return p.innerHTML="<p class='no-movies'>The queue is empty. Add all Harry Potter movies - you won't regret thisâœ¨</p>",void setTimeout(l.spinnerStop,500);const t=e.map((e=>o(e))).join("");p.innerHTML=t,setTimeout(l.spinnerStop,500)}function g(e){try{const t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(e){console.log("Everyone makes mistakes, this is yours:",e.message)}}!async function(){let e=Math.ceil(1),t=Math.floor(100),r=Math.floor(Math.random()*(t-e+1)+e);try{const e="https://image.tmdb.org/t/p/original";p.innerHTML="";const t=await(0,d.default)(r),i=`<h3 class='library-gallery-recomend'>RECOMMENDATIONS</h3><div class='library-gallery__default'><img class='library-gallery__default-poster' data-id='${t.results[1].id}' src=${e}${t.results[1].poster_path}>\n    <div><p class='library-gallery__default__title'>${t.results[1].title}</p>\n    <p class='library-gallery__default-overview'>${t.results[1].overview}</p></div>\n    </div>\n    \n    <div class='library-gallery__default'><img class='library-gallery__default-poster' src=${e}${t.results[2].poster_path} data-id='${t.results[2].id}'>\n    <div><p class='library-gallery__default__title'>${t.results[2].title}</p>\n    <p class='library-gallery__default-overview'>${t.results[2].overview}</p></div>\n    </div>\n    \n    <div class='library-gallery__default'><img class='library-gallery__default-poster' src=${e}${t.results[3].poster_path} data-id='${t.results[3].id}'>\n    <div><p class='library-gallery__default__title'>${t.results[3].title}</p>\n    <p class='library-gallery__default-overview'>${t.results[3].overview}</p></div>\n    </div>`;p.innerHTML=i}catch(e){console.log(e)}}(),c.addEventListener("click",m),u.addEventListener("click",v),a("ak03H"),a("6HA5D");l=a("gjiCh");a("kMp2Z");var y=a("krGWQ"),f=a("7Y9D8"),_=a("1jYKa"),h=a("37v9V");a("gCEU8"),a("8ROYx");const{allCardsSection:S,modal:b,overflow:E,closeBtn:w,innerModal:T,body:L,sectionLibrary:k}=y.refs;let $=JSON.parse(localStorage.getItem("movieQueue"))||[],M=JSON.parse(localStorage.getItem("movieWatched"))||[];async function O(e){if("IMG"===e.target.nodeName||"SPAN"===e.target.nodeName){b.classList.remove("hidden-movie-modal"),E.classList.remove("hidden-movie-modal"),E.classList.add("overflow-height"),k.removeEventListener("click",O),document.addEventListener("keydown",N),w.addEventListener("click",x),E.addEventListener("click",H);const t="IMG"===e.target.nodeName?e.target.dataset.id:e.target.closest("li").dataset.id;await async function(e){const t=function(){const e=localStorage.getItem("currentFilmList");return JSON.parse(e)}(),r=await(0,_.renderModal)(t,e,M,$);T.innerHTML=r}(t);const r=window.scrollY;L.style.position="fixed",L.style.top=`-${r}px`;const i=document.querySelector(".modal__btn-watched"),n=document.querySelector(".modal__btn-queue"),a=document.querySelector(".movie-modal__btn-watch-trailer");i.addEventListener("click",A),n.addEventListener("click",q),a.addEventListener("click",h.onTrailerBtnClick)}}function H(e){e.currentTarget===e.target&&x()}function N(e){"Escape"===e.code&&x()}function x(){b.classList.add("hidden-movie-modal"),E.classList.add("hidden-movie-modal"),E.classList.remove("overflow-height"),k.addEventListener("click",O),document.removeEventListener("keydown",x),w.removeEventListener("click",x),E.removeEventListener("click",H);const e=L.style.top;L.style.position="",L.style.top="",window.scrollTo(0,-1*parseInt(e||"0"))}async function A(e){const r=document.querySelector(".movie-modal__main"),i={poster_path:r.dataset.poster,title:r.dataset.title,genre_ids:r.dataset.genres,release_date:r.dataset.date,vote_average:r.dataset.votes,id:r.dataset.id},n=M.some((e=>e.id===i.id));if(console.dir(e.target),"ADD TO WATCHED"===e.target.innerText){if(!n){M.push(i),localStorage.setItem("movieWatched",JSON.stringify(M)),e.target.innerText="Remove from watched";JSON.parse(localStorage.getItem("movieWatched"));m(),t(f).Notify.success("Added to watched!")}}else"REMOVE FROM WATCHED"===e.target.innerText&&(M=M.filter((e=>e.id!==i.id)),localStorage.setItem("movieWatched",JSON.stringify(M)),e.target.innerText="Add to watched",m(),t(f).Notify.success("Removed from watched!"))}async function q(e){const r=document.querySelector(".movie-modal__main"),i={poster_path:r.dataset.poster,title:r.dataset.title,genre_ids:r.dataset.genres,release_date:r.dataset.date,vote_average:r.dataset.votes,id:r.dataset.id},n=$.some((e=>e.id===i.id));console.dir(e.target),"ADD TO QUEUE"===e.target.innerText?n||($.push(i),localStorage.setItem("movieQueue",JSON.stringify($)),e.target.innerText="Remove from queue",v(),t(f).Notify.success("Added to queue!")):"REMOVE FROM QUEUE"===e.target.innerText&&($=$.filter((e=>e.id!==i.id)),localStorage.setItem("movieQueue",JSON.stringify($)),e.target.innerText="Add to queue",v(),t(f).Notify.success("Removed from queue!"))}k.addEventListener("click",O),a("9kkEh"),(0,l.spinnerStart)(),setTimeout(l.spinnerStop,1e3);
//# sourceMappingURL=library.62d45b26.js.map
