function e(e,t,r,a){Object.defineProperty(e,t,{get:r,set:a,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},o=r.parcelRequired7c6;null==o&&((o=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var r={id:e,exports:{}};return a[e]=r,t.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},r.parcelRequired7c6=o),o.register("kyEFX",(function(t,r){var a,n;e(t.exports,"register",(function(){return a}),(function(e){return a=e})),e(t.exports,"resolve",(function(){return n}),(function(e){return n=e}));var o={};a=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)o[t[r]]=e[t[r]]},n=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),o("kyEFX").register(JSON.parse('{"1zJhX":"library.0f9c0372.js","ej0t2":"empty-poster.88e9f0bc.jpg","5UbS1":"index.9bd496b7.css","eM9ss":"library.e907e088.js"}')),o("gKkQl"),o("eyjy7"),o("7Y9D8"),o("jAzyG"),o("5rZAK");o("9kkEh"),o("7Y9D8");var i;i=new URL(o("kyEFX").resolve("ej0t2"),import.meta.url).toString();function s(e){const{poster_path:r,title:a,genre_ids:n,release_date:o,vote_average:s,id:l}=e;let d=`https://image.tmdb.org/t/p/original${r}`,c=`${o.slice(0,4)}`;d=r||function(e){let t=new Image;t.addEventListener("load",(()=>!0)),t.addEventListener("error",(()=>!1)),t.src=e}(d)?`https://image.tmdb.org/t/p/original${r}`:`${t(i)}`,o||(c="-");return`\n\t<li class='trending-gallery__item' data-id='${l}'>\n    <img src="${d}" alt="The poster of ${a} film" class="library-gallery__image" data-id='${l}'/>\n    <div class="trending-gallery__wrapper">\n    \t<h3 class='trending-gallery__title' data-id='${l}'><span class="title-modal-open">${a}</span></h3>\n    \t<p class='trending-gallery__info'>${n} | <span class='movie-year'>${c}</span> <span class='movie-rating'>${Number(s).toFixed(1)}</span></p>\n    </div>\n  </li>\n\t`}var l=o("gjiCh"),d=o("2Opyx");const c=document.querySelector(".js-library-btn--watched"),u=document.querySelector(".js-library-btn--queue"),g=document.querySelector(".movie-list");function m(e){try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.log("Everyone makes mistakes, this is yours:",e.message)}}!async function(){minPage=Math.ceil(1),maxPage=Math.floor(100);let e=Math.floor(Math.random()*(maxPage-minPage+1)+minPage);try{const t="https://image.tmdb.org/t/p/original";g.innerHTML="";const r=await(0,d.default)(e),a=`<h3 class='library-gallery-recomend'>RECOMMENDATIONS</h3><div class='library-gallery__default'><img class='library-gallery__default-poster' src=${t}${r.results[1].poster_path}>\n    <div><p class='library-gallery__default__title'>${r.results[1].title}</p>\n    <p class='library-gallery__default-overview'>${r.results[1].overview}</p></div>\n    </div>\n    \n    <div class='library-gallery__default'><img class='library-gallery__default-poster' src=${t}${r.results[2].poster_path}>\n    <div><p class='library-gallery__default__title'>${r.results[2].title}</p>\n    <p class='library-gallery__default-overview'>${r.results[2].overview}</p></div>\n    </div>\n    \n    <div class='library-gallery__default'><img class='library-gallery__default-poster' src=${t}${r.results[3].poster_path}>\n    <div><p class='library-gallery__default__title'>${r.results[3].title}</p>\n    <p class='library-gallery__default-overview'>${r.results[3].overview}</p></div>\n    </div>`;g.innerHTML=a}catch(e){console.log(e)}}(),c.addEventListener("click",(function(){(0,l.spinnerStart)();const e=m("movieWatched");if(0===e.length)return g.innerHTML="<p class='no-movies'>It seems you haven't watched any movie. You should try, it's funðŸŽ­</p>",void setTimeout(l.spinnerStop,500);const t=e.map((e=>s(e))).join("");g.innerHTML=t,setTimeout(l.spinnerStop,500)})),u.addEventListener("click",(function(){(0,l.spinnerStart)();const e=m("movieQueue");if(0===e.length)return g.innerHTML="<p class='no-movies'>The queue is empty. Add all Harry Potter movies - you won't regret thisâœ¨</p>",void setTimeout(l.spinnerStop,500);const t=e.map((e=>s(e))).join("");g.innerHTML=t,setTimeout(l.spinnerStop,500)})),o("ak03H"),o("6HA5D");l=o("gjiCh");o("kMp2Z");var v=o("krGWQ"),p=o("7Y9D8"),y=o("1jYKa"),f=o("37v9V");o("gCEU8"),o("8ROYx");const{allCardsSection:_,modal:h,overflow:b,closeBtn:E,innerModal:S,body:w,sectionLibrary:L}=v.refs;let T=JSON.parse(localStorage.getItem("movieQueue"))||[],k=JSON.parse(localStorage.getItem("movieWatched"))||[];async function $(e){if("IMG"===e.target.nodeName||"SPAN"===e.target.nodeName){h.classList.remove("hidden-movie-modal"),b.classList.remove("hidden-movie-modal"),b.classList.add("overflow-height"),L.removeEventListener("click",$),document.addEventListener("keydown",O),E.addEventListener("click",x),b.addEventListener("click",M);const t="IMG"===e.target.nodeName?e.target.dataset.id:e.target.closest("li").dataset.id;await async function(e){const t=function(){const e=localStorage.getItem("currentFilmList");return JSON.parse(e)}(),r=await(0,y.renderModal)(t,e,k,T);S.innerHTML=r}(t);const r=window.scrollY;w.style.position="fixed",w.style.top=`-${r}px`;const a=document.querySelector(".modal__btn-watched"),n=document.querySelector(".modal__btn-queue"),o=document.querySelector(".movie-modal__btn-watch-trailer");a.addEventListener("click",N),n.addEventListener("click",H),o.addEventListener("click",f.onTrailerBtnClick)}}function M(e){e.currentTarget===e.target&&x()}function O(e){"Escape"===e.code&&x()}function x(){h.classList.add("hidden-movie-modal"),b.classList.add("hidden-movie-modal"),b.classList.remove("overflow-height"),L.addEventListener("click",$),document.removeEventListener("keydown",x),E.removeEventListener("click",x),b.removeEventListener("click",M);const e=w.style.top;w.style.position="",w.style.top="",window.scrollTo(0,-1*parseInt(e||"0"))}async function N(e){const r=document.querySelector(".movie-modal__main");console.log("modalEl",r.dataset);const a={poster_path:r.dataset.poster,title:r.dataset.title,genre_ids:r.dataset.genres,release_date:r.dataset.date,vote_average:r.dataset.votes,id:r.dataset.id};console.log("movie",a);const n=k.some((e=>e.id===a.id));if(console.log("inInWatched",n),console.dir(e.target),"ADD TO WATCHED"===e.target.innerText){if(!n){k.push(a),localStorage.setItem("movieWatched",JSON.stringify(k)),e.target.innerText="Remove from watched",console.log("movie",a),console.log("watched",k);const r=JSON.parse(localStorage.getItem("movieWatched"));console.log("saved",r),t(p).Notify.success("Added to watched!")}}else"REMOVE FROM WATCHED"===e.target.innerText&&(k=k.filter((e=>e.id!==a.id)),localStorage.setItem("movieWatched",JSON.stringify(k)),e.target.innerText="Add to watched",t(p).Notify.success("Removed from watched!"))}async function H(e){const r=document.querySelector(".movie-modal__main");console.log("modalEl",r.dataset);const a={poster_path:r.dataset.poster,title:r.dataset.title,genre_ids:r.dataset.genres,release_date:r.dataset.date,vote_average:r.dataset.votes,id:r.dataset.id};console.log("movie",a);const n=T.some((e=>e.id===a.id));console.log(n),console.dir(e.target),"ADD TO QUEUE"===e.target.innerText?n||(T.push(a),localStorage.setItem("movieQueue",JSON.stringify(T)),e.target.innerText="Remove from queue",t(p).Notify.success("Added to queue!")):"REMOVE FROM QUEUE"===e.target.innerText&&(T=T.filter((e=>e.id!==a.id)),localStorage.setItem("movieQueue",JSON.stringify(T)),e.target.innerText="Add to queue",t(p).Notify.success("Removed from queue!"))}L.addEventListener("click",$),o("9kkEh"),(0,l.spinnerStart)(),setTimeout(l.spinnerStop,1e3);
//# sourceMappingURL=library.0f9c0372.js.map
