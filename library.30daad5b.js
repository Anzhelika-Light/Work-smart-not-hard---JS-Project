!function(){function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},i=r.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},r.parcelRequired7c6=i),i.register("iE7OH",(function(t,r){var n,a;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var i={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)i[t[r]]=e[t[r]]},a=function(e){var t=i[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),i.register("aNJCr",(function(t,r){var n;e(t.exports,"getBundleURL",(function(){return n}),(function(e){return n=e}));var a={};function i(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}n=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return i(e[2])}return"/"}(),a[e]=t),t}})),i("iE7OH").register(JSON.parse('{"2Y0K8":"library.30daad5b.js","g5Rti":"empty-poster.88e9f0bc.jpg","5UbS1":"index.f431bda5.css","7nwxg":"library.a07d6a36.js"}')),i("fkNhc"),i("gQOBw"),i("6JpON"),i("cokon"),i("9t7bQ");i("387si");var o=i("bpxeT"),s=i("2TvXO");i("6JpON");var c;c=i("aNJCr").getBundleURL("2Y0K8")+i("iE7OH").resolve("g5Rti");var l="https://image.tmdb.org/t/p/original";function d(e){var r=e.poster_path,n=e.title,a=e.genre_ids,i=e.release_date,o=e.vote_average,s=e.id,d="".concat(l).concat(r),u="".concat(i.slice(0,4));d=r||function(e){var t=new Image;t.addEventListener("load",(function(){return!0})),t.addEventListener("error",(function(){return!1})),t.src=e}(d)?"".concat(l).concat(r):"".concat(t(c)),i||(u="-");var p=a.split(","),v=[];p.length>2?(v.push(p[0]),v.push(p[1]),v.push("Other")):2===p.length?(v.push(p[0]),v.push(p[1])):1===p.length&&v.push(p[0]);var f=Number(o).toFixed(1);return"\n\t<li class='trending-gallery__item' data-id='".concat(s,"'>\n  \n    <img src=\"").concat(d,'" alt="The poster of ').concat(n,' film" class="library-gallery__image" data-id=\'').concat(s,"'/>\n    <div class=\"trending-gallery__wrapper\">\n    \t<h3 class='trending-gallery__title' data-id='").concat(s,'\'><span class="title-modal-open">').concat(n,"</span></h3>\n    \t<p class='trending-gallery__info'>").concat(v.join(", ")," | <span class='movie-year'>").concat(u,"</span> <span class='movie-rating'>").concat(f,"</span></p>\n    </div>\n    \n  </li>\n\t")}var u=i("kvC6y"),p=i("asGRZ"),v=document.querySelector(".js-library-btn--watched"),f=document.querySelector(".js-library-btn--queue"),m=document.querySelector(".movie-list");function g(){return(g=t(o)(t(s).mark((function e(){var r,n,a,i,o,c;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Math.ceil(1),n=Math.floor(100),a=Math.floor(Math.random()*(n-r+1)+r),e.prev=3,i="https://image.tmdb.org/t/p/original",m.innerHTML="",e.next=8,(0,p.default)(a);case 8:o=e.sent,c="<h3 class='library-gallery-recomend'>RECOMMENDATIONS</h3><div class='library-gallery__default'><img class='library-gallery__default-poster' data-id='".concat(o.results[1].id,"' src=").concat(i).concat(o.results[1].poster_path,">\n    <div><p class='library-gallery__default__title'>").concat(o.results[1].title,"</p>\n    <p class='library-gallery__default-overview'>").concat(o.results[1].overview,"</p></div>\n    </div>\n    \n    <div class='library-gallery__default'><img class='library-gallery__default-poster' src=").concat(i).concat(o.results[2].poster_path," data-id='").concat(o.results[2].id,"'>\n    <div><p class='library-gallery__default__title'>").concat(o.results[2].title,"</p>\n    <p class='library-gallery__default-overview'>").concat(o.results[2].overview,"</p></div>\n    </div>\n    \n    <div class='library-gallery__default'><img class='library-gallery__default-poster' src=").concat(i).concat(o.results[3].poster_path," data-id='").concat(o.results[3].id,"'>\n    <div><p class='library-gallery__default__title'>").concat(o.results[3].title,"</p>\n    <p class='library-gallery__default-overview'>").concat(o.results[3].overview,"</p></div>\n    </div>"),m.innerHTML=c,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function y(){(0,u.spinnerStart)();var e=_("movieWatched");if(void 0===e)return m.innerHTML="<p class='no-movies'>It seems you haven't watched any movie. You should try, it's funðŸŽ­</p>",void setTimeout(u.spinnerStop,500);if(0===e.length)return m.innerHTML="<p class='no-movies'>It seems you haven't watched any movie. You should try, it's funðŸŽ­</p>",void setTimeout(u.spinnerStop,500);var t=e.map((function(e){return d(e)})).join("");m.innerHTML=t,setTimeout(u.spinnerStop,500)}function h(){(0,u.spinnerStart)();var e=_("movieQueue");if(void 0===e)return m.innerHTML="<p class='no-movies'>The queue is empty. Add all Harry Potter movies - you won't regret thisâœ¨</p>",void setTimeout(u.spinnerStop,500);if(0===e.length)return m.innerHTML="<p class='no-movies'>The queue is empty. Add all Harry Potter movies - you won't regret thisâœ¨</p>",void setTimeout(u.spinnerStop,500);var t=e.map((function(e){return d(e)})).join("");m.innerHTML=t,setTimeout(u.spinnerStop,500)}function _(e){try{var t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(e){console.log("Everyone makes mistakes, this is yours:",e.message)}}!function(){g.apply(this,arguments)}(),v.addEventListener("click",y),f.addEventListener("click",h),i("iSEZc"),i("4F07H");u=i("kvC6y");i("9S1Ph");o=i("bpxeT"),s=i("2TvXO");var w=i("4Nugj"),b=i("6JpON"),S=i("h9dm7"),T=i("cDXQO");i("4VPdD"),i("dTK2M");w.refs.allCardsSection;var E=w.refs.modal,L=w.refs.overflow,x=w.refs.closeBtn,O=w.refs.innerModal,k=w.refs.body,N=w.refs.sectionLibrary,M=JSON.parse(localStorage.getItem("movieQueue"))||[],H=JSON.parse(localStorage.getItem("movieWatched"))||[];function R(){var e=localStorage.getItem("currentFilmList");return JSON.parse(e)}function q(e){return A.apply(this,arguments)}function A(){return(A=t(o)(t(s).mark((function e(r){var n,a,i,o,c;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("IMG"!==r.target.nodeName&&"SPAN"!==r.target.nodeName){e.next=20;break}return E.classList.remove("hidden-movie-modal"),L.classList.remove("hidden-movie-modal"),L.classList.add("overflow-height"),N.removeEventListener("click",q),document.addEventListener("keydown",J),x.addEventListener("click",j),L.addEventListener("click",I),n="IMG"===r.target.nodeName?r.target.dataset.id:r.target.closest("li").dataset.id,e.next=11,C(n);case 11:a=window.scrollY,k.style.position="fixed",k.style.top="-".concat(a,"px"),i=document.querySelector(".modal__btn-watched"),o=document.querySelector(".modal__btn-queue"),c=document.querySelector(".movie-modal__btn-watch-trailer"),i.addEventListener("click",F),o.addEventListener("click",U),c.addEventListener("click",T.onTrailerBtnClick);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){e.currentTarget===e.target&&j()}function J(e){"Escape"===e.code&&j()}function j(){E.classList.add("hidden-movie-modal"),L.classList.add("hidden-movie-modal"),L.classList.remove("overflow-height"),N.addEventListener("click",q),document.removeEventListener("keydown",j),x.removeEventListener("click",j),L.removeEventListener("click",I);var e=k.style.top;k.style.position="",k.style.top="",window.scrollTo(0,-1*parseInt(e||"0"))}function C(e){return D.apply(this,arguments)}function D(){return(D=t(o)(t(s).mark((function e(r){var n,a;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=R(),e.next=3,(0,S.renderModal)(n,r,H,M);case 3:a=e.sent,O.innerHTML=a;case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return Q.apply(this,arguments)}function Q(){return(Q=t(o)(t(s).mark((function e(r){var n,a,i;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.querySelector(".movie-modal__main"),a={poster_path:n.dataset.poster,title:n.dataset.title,genre_ids:n.dataset.genres,release_date:n.dataset.date,vote_average:n.dataset.votes,id:n.dataset.id},i=H.some((function(e){return e.id===a.id})),console.dir(r.target),"ADD TO WATCHED"===r.target.innerText?i||(H.push(a),localStorage.setItem("movieWatched",JSON.stringify(H)),r.target.innerText="Remove from watched",JSON.parse(localStorage.getItem("movieWatched")),y(),t(b).Notify.success("Added to watched!")):"REMOVE FROM WATCHED"===r.target.innerText&&(H=H.filter((function(e){return e.id!==a.id})),localStorage.setItem("movieWatched",JSON.stringify(H)),r.target.innerText="Add to watched",y(),t(b).Notify.success("Removed from watched!"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){return W.apply(this,arguments)}function W(){return(W=t(o)(t(s).mark((function e(r){var n,a,i;return t(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=document.querySelector(".movie-modal__main"),a={poster_path:n.dataset.poster,title:n.dataset.title,genre_ids:n.dataset.genres,release_date:n.dataset.date,vote_average:n.dataset.votes,id:n.dataset.id},i=M.some((function(e){return e.id===a.id})),console.dir(r.target),"ADD TO QUEUE"===r.target.innerText?i||(M.push(a),localStorage.setItem("movieQueue",JSON.stringify(M)),r.target.innerText="Remove from queue",h(),t(b).Notify.success("Added to queue!")):"REMOVE FROM QUEUE"===r.target.innerText&&(M=M.filter((function(e){return e.id!==a.id})),localStorage.setItem("movieQueue",JSON.stringify(M)),r.target.innerText="Add to queue",h(),t(b).Notify.success("Removed from queue!"));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}N.addEventListener("click",q),i("387si"),(0,u.spinnerStart)(),setTimeout(u.spinnerStop,1e3)}();
//# sourceMappingURL=library.30daad5b.js.map
