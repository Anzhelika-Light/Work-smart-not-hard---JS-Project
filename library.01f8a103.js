function e(e,t,r,n){Object.defineProperty(e,t,{get:r,set:n,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},s=r.parcelRequired7c6;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},r.parcelRequired7c6=s),s.register("kyEFX",(function(t,r){var n,i;e(t.exports,"register",(function(){return n}),(function(e){return n=e})),e(t.exports,"resolve",(function(){return i}),(function(e){return i=e}));var s={};n=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)s[t[r]]=e[t[r]]},i=function(e){var t=s[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s("kyEFX").register(JSON.parse('{"1zJhX":"library.01f8a103.js","ej0t2":"empty-poster.88e9f0bc.jpg","5UbS1":"index.432e5489.css","eM9ss":"library.6a81601c.js"}')),s("gKkQl"),s("eyjy7"),s("7Y9D8"),s("jAzyG"),s("5rZAK");s("9kkEh"),s("7Y9D8");var a;a=new URL(s("kyEFX").resolve("ej0t2"),import.meta.url).toString();function o(e){const{poster_path:r,title:n,genre_ids:i,release_date:s,vote_average:o,id:l}=e;let d=`https://image.tmdb.org/t/p/original${r}`,c=`${s.slice(0,4)}`;d=r||function(e){let t=new Image;t.addEventListener("load",(()=>!0)),t.addEventListener("error",(()=>!1)),t.src=e}(d)?`https://image.tmdb.org/t/p/original${r}`:`${t(a)}`,s||(c="-");const u=i.split(",");let p=[];u.length>2?(p.push(u[0]),p.push(u[1]),p.push("Other"),console.log("genres:",p)):2===u.length?(p.push(u[0]),p.push(u[1]),console.log("genres:",p)):1===u.length&&(p.push(u[0]),console.log("genres:",p));const m=Number(o).toFixed(1);return`\n\t<li class='trending-gallery__item' data-id='${l}'>\n  \n    <img src="${d}" alt="The poster of ${n} film" class="library-gallery__image" data-id='${l}'/>\n    <div class="trending-gallery__wrapper">\n    \t<h3 class='trending-gallery__title' data-id='${l}'><span class="title-modal-open">${n}</span></h3>\n    \t<p class='trending-gallery__info'>${p.join(", ")} | <span class='movie-year'>${c}</span> <span class='movie-rating'>${m}</span></p>\n    </div>\n    \n  </li>\n\t`}var l=s("gjiCh"),d=s("2Opyx");const c=document.querySelector(".js-library-btn--watched"),u=document.querySelector(".js-library-btn--queue"),p=document.querySelector(".movie-list");function m(){(0,l.spinnerStart)();const e=v("movieWatched");if(void 0===e)return p.innerHTML="<p class='no-movies'>It seems you haven't watched any movie. You should try, it's funðŸŽ­</p>",void setTimeout(l.spinnerStop,500);if(0===e.length)return p.innerHTML="<p class='no-movies'>It seems you haven't watched any movie. You should try, it's funðŸŽ­</p>",void setTimeout(l.spinnerStop,500);const t=e.map((e=>o(e))).join("");p.innerHTML=t,setTimeout(l.spinnerStop,500)}function g(){(0,l.spinnerStart)();const e=v("movieQueue");if(void 0===e)return p.innerHTML="<p class='no-movies'>The queue is empty. Add all Harry Potter movies - you won't regret thisâœ¨</p>",void setTimeout(l.spinnerStop,500);if(0===e.length)return p.innerHTML="<p class='no-movies'>The queue is empty. Add all Harry Potter movies - you won't regret thisâœ¨</p>",void setTimeout(l.spinnerStop,500);const t=e.map((e=>o(e))).join("");p.innerHTML=t,setTimeout(l.spinnerStop,500)}function v(e){try{const t=localStorage.getItem(e);if(null===t)return;return JSON.parse(t)}catch(e){console.log("Everyone makes mistakes, this is yours:",e.message)}}!async function(){let e=Math.ceil(1),t=Math.floor(100),r=Math.floor(Math.random()*(t-e+1)+e);try{const e="https://image.tmdb.org/t/p/original";p.innerHTML="";const t=await(0,d.default)(r),n=`<h3 class='library-gallery-recomend'>RECOMMENDATIONS</h3><div class='library-gallery__default'><img class='library-gallery__default-poster' data-id='${t.results[1].id}' src=${e}${t.results[1].poster_path}>\n    <div><p class='library-gallery__default__title'>${t.results[1].title}</p>\n    <p class='library-gallery__default-overview'>${t.results[1].overview}</p></div>\n    </div>\n    \n    <div class='library-gallery__default'><img class='library-gallery__default-poster' src=${e}${t.results[2].poster_path} data-id='${t.results[2].id}'>\n    <div><p class='library-gallery__default__title'>${t.results[2].title}</p>\n    <p class='library-gallery__default-overview'>${t.results[2].overview}</p></div>\n    </div>\n    \n    <div class='library-gallery__default'><img class='library-gallery__default-poster' src=${e}${t.results[3].poster_path} data-id='${t.results[3].id}'>\n    <div><p class='library-gallery__default__title'>${t.results[3].title}</p>\n    <p class='library-gallery__default-overview'>${t.results[3].overview}</p></div>\n    </div>`;p.innerHTML=n}catch(e){console.log(e)}}(),c.addEventListener("click",m),u.addEventListener("click",g),s("ak03H"),s("6HA5D");l=s("gjiCh");s("kMp2Z");var y=s("krGWQ"),f=s("7Y9D8"),_=s("1jYKa"),h=s("37v9V");s("gCEU8"),s("8ROYx");const{allCardsSection:S,modal:b,overflow:E,closeBtn:w,innerModal:T,body:L,sectionLibrary:k}=y.refs;let $=JSON.parse(localStorage.getItem("movieQueue"))||[],M=JSON.parse(localStorage.getItem("movieWatched"))||[];async function O(e){if("IMG"===e.target.nodeName||"SPAN"===e.target.nodeName){b.classList.remove("hidden-movie-modal"),E.classList.remove("hidden-movie-modal"),E.classList.add("overflow-height"),k.removeEventListener("click",O),document.addEventListener("keydown",N),w.addEventListener("click",x),E.addEventListener("click",H);const t="IMG"===e.target.nodeName?e.target.dataset.id:e.target.closest("li").dataset.id;await async function(e){const t=function(){const e=localStorage.getItem("currentFilmList");return JSON.parse(e)}(),r=await(0,_.renderModal)(t,e,M,$);T.innerHTML=r}(t);const r=window.scrollY;L.style.position="fixed",L.style.top=`-${r}px`;const n=document.querySelector(".modal__btn-watched"),i=document.querySelector(".modal__btn-queue"),s=document.querySelector(".movie-modal__btn-watch-trailer");n.addEventListener("click",A),i.addEventListener("click",q),s.addEventListener("click",h.onTrailerBtnClick)}}function H(e){e.currentTarget===e.target&&x()}function N(e){"Escape"===e.code&&x()}function x(){b.classList.add("hidden-movie-modal"),E.classList.add("hidden-movie-modal"),E.classList.remove("overflow-height"),k.addEventListener("click",O),document.removeEventListener("keydown",x),w.removeEventListener("click",x),E.removeEventListener("click",H);const e=L.style.top;L.style.position="",L.style.top="",window.scrollTo(0,-1*parseInt(e||"0"))}async function A(e){const r=document.querySelector(".movie-modal__main"),n={poster_path:r.dataset.poster,title:r.dataset.title,genre_ids:r.dataset.genres,release_date:r.dataset.date,vote_average:r.dataset.votes,id:r.dataset.id},i=M.some((e=>e.id===n.id));if(console.dir(e.target),"ADD TO WATCHED"===e.target.innerText){if(!i){M.push(n),localStorage.setItem("movieWatched",JSON.stringify(M)),e.target.innerText="Remove from watched";JSON.parse(localStorage.getItem("movieWatched"));t(f).Notify.success("Added to watched!")}}else"REMOVE FROM WATCHED"===e.target.innerText&&(M=M.filter((e=>e.id!==n.id)),localStorage.setItem("movieWatched",JSON.stringify(M)),e.target.innerText="Add to watched",m(),t(f).Notify.success("Removed from watched!"))}async function q(e){const r=document.querySelector(".movie-modal__main"),n={poster_path:r.dataset.poster,title:r.dataset.title,genre_ids:r.dataset.genres,release_date:r.dataset.date,vote_average:r.dataset.votes,id:r.dataset.id},i=$.some((e=>e.id===n.id));console.dir(e.target),"ADD TO QUEUE"===e.target.innerText?i||($.push(n),localStorage.setItem("movieQueue",JSON.stringify($)),e.target.innerText="Remove from queue",t(f).Notify.success("Added to queue!")):"REMOVE FROM QUEUE"===e.target.innerText&&($=$.filter((e=>e.id!==n.id)),localStorage.setItem("movieQueue",JSON.stringify($)),e.target.innerText="Add to queue",g(),t(f).Notify.success("Removed from queue!"))}k.addEventListener("click",O),s("9kkEh"),(0,l.spinnerStart)(),setTimeout(l.spinnerStop,1e3);
//# sourceMappingURL=library.01f8a103.js.map
